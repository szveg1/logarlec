@startuml
scale 2480*3805
hide footbox
title Takarító másik szobába lép

actor Kontroller as k
participant "t :Takarito" as t
participant "ujSzoba :Szoba" as usz
participant " :Ember" as e
participant " :Ajto" as a

activate k
k -> t: masikSzobabaLep(ujSzoba)

activate t
t -> usz: emberBetesz(t)
activate usz

opt befér
	return true
	t -> t: jelenlegiSzoba = ujSzoba
	loop for Ember e: ujSzoba.bentlevok
		t -> e: getAjult()
		activate e
		opt !ajult
			return false
			opt e != t
				loop for Ajto a : ujSzoba.ajtok
					t -> a: hasznal(e)
					activate a
					return
					break e.jelenlegiSzoba != ujSzoba
						
					end
				end
			end
		end
	end
	t -> usz: mergezoE()
	activate usz
	opt mérgező
		return true
		t -> usz: setMeregIdo(0)
		activate usz
		return
	end
	t -> usz: setRagacsIdo(10)
	activate usz
	return
end
return

@enduml